<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Controle Remoto MaelCar</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { text-align:center; font-family: Arial; background:#000; color:#fff; margin-top:50px; }
    button { width:80px; height:80px; font-size:20px; margin:10px; border-radius:10px; cursor:pointer; border:none; }
    .up { background:green; color:white; }
    .down { background:blue; color:white; }
    .left { background:orange; color:white; }
    .right { background:purple; color:white; }
    .stop { background:red; color:white; }
    .row { display:flex; justify-content:center; align-items:center; }
  </style>
</head>
<body>
  <h1>Controle Remoto MaelCar</h1>

  <div class="row">
    <button class="up">↑</button>
  </div>
  <div class="row">
    <button class="left">←</button>
    <button class="stop">S</button>
    <button class="right">→</button>
  </div>
  <div class="row">
    <button class="down">↓</button>
  </div>

  <h2>Mael Tecnologias</h2>

  <script type="module">
    // --- Firebase ---
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBl6FfYGi2nzy1aLXWf7ZlL08lcFpYiNu4",
      authDomain: "maelcarro-7b99b.firebaseapp.com",
      databaseURL: "https://maelcarro-7b99b-default-rtdb.firebaseio.com",
      projectId: "maelcarro-7b99b",
      storageBucket: "maelcarro-7b99b.firebasestorage.app",
      messagingSenderId: "861995467419",
      appId: "1:861995467419:web:4786aa2daa4930a2bfbc3e"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    function sendCmd(cmd) {
      set(ref(db, 'carrinhoMael/comando'), cmd)
        .then(() => console.log("Comando enviado:", cmd))
        .catch((error) => console.error("Erro ao enviar:", error));
    }

    // torna a função global para os botões
    window.sendCmd = sendCmd;

    // adiciona eventos aos botões
    document.querySelector(".up").addEventListener("click", () => sendCmd('F'));
    document.querySelector(".down").addEventListener("click", () => sendCmd('B'));
    document.querySelector(".left").addEventListener("click", () => sendCmd('L'));
    document.querySelector(".right").addEventListener("click", () => sendCmd('R'));
    document.querySelector(".stop").addEventListener("click", () => sendCmd('S'));
  </script>
</body>
</html>
